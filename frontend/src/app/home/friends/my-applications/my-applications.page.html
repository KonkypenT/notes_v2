<ion-header>
  <ion-toolbar>
    <ion-title>Друзья</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="formSearch">
    <ion-searchbar
      placeholder="Введите логин друга"
      debounce="200"
      enterkeyhint="search"
      type="search"
      [formControl]="formSearch.controls.search"
    ></ion-searchbar>
  </form>
  <ion-list *ngIf="users?.length" #listFriend>
    <ion-item-sliding *ngFor="let user of users">
      <ion-item class="item">
        <ion-label slot="start">{{user.firstName}} {{user.surname}}</ion-label>
        <ion-label slot="end">{{user.username}}</ion-label>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option [disabled]="(currentUser | async).id === user.id" (click)="addToFriend(user)">
          Добавить в друзья
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
  <div *ngIf="users && !users.length" class="invalid-search">По вашему запросу ничего не найдено</div>
</ion-content>
